# ═══════════════════════════════════════════════════════════════
# NORYX VPN - КОНФИГУРАЦИЯ ДЛЯ РАЗРАБОТКИ
# ═══════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────
# 1. ОСНОВНЫЕ НАСТРОЙКИ СЕРВЕРА
# ───────────────────────────────────────────────────────────────

# Порт приложения
PORT=3000

# Окружение (development, production)
NODE_ENV=development

# Хост для прослушивания
HOST=0.0.0.0
# Базовый URL приложения
BASE_URL=http://servervpn.store

# ───────────────────────────────────────────────────────────────
# 2. БАЗА ДАННЫХ - PostgreSQL
# ───────────────────────────────────────────────────────────────

# Хост БД
DB_HOST=127.0.0.1

# Порт БД (5432 - стандартный для PostgreSQL)
DB_PORT=5432

# Название БД
DB_NAME=noryx_vpn

# Пользователь БД
DB_USER=noryx_admin

# Пароль БД
DB_PASSWORD=NoryxTest123

# Connection string (альтернатива к отдельным параметрам)
# DATABASE_URL=postgresql://postgres:your_password_here@localhost:5432/noryx_vpn

# ───────────────────────────────────────────────────────────────
# 3. 3X-UI СЕРВЕР (УПРАВЛЕНИЕ VPN)
# ───────────────────────────────────────────────────────────────

# URL админ-панели 3X-UI
# Примеры:
#   - Локально: http://localhost:2053
#   - Удаленно: https://panel.example.com:2053
X3UI_API_URL=https://sab.servervpn.store:2053

# Учетные данные админа 3X-UI
# Измените на реальные значения!
X3UI_USERNAME=admin
X3UI_PASSWORD=Aa1478520...
# Timeout для запросов к 3X-UI (ms)
X3UI_TIMEOUT=30000

# ───────────────────────────────────────────────────────────────
# 4. БЕЗОПАСНОСТЬ И ТОКЕНЫ
# ───────────────────────────────────────────────────────────────

# Пароль администратора для входа в админ-панель
# Используйте сильный пароль (минимум 16 символов)
ADMIN_PASSWORD=admin123

# JWT секретный ключ для подписания токенов
# Генерируйте: openssl rand -base64 32
JWT_SECRET=5+V5LkB8Wy7xxq+o8R+dXAmAo8ka+WnCoTGA+XI26yw=

# HMAC секретный ключ для подтверждения целостности
# Генерируйте: openssl rand -base64 32
HMAC_SECRET=6bLE7VKVDdkkmh0Xcf1erKGl1BfQrm8qEJ+LFbXSRxM=

# Время жизни токена (в секундах)
# 300 = 5 минут
TOKEN_EXPIRY_SECONDS=300

# Время жизни JWT токена (7d, 30d, 1y и т.д.)
JWT_EXPIRES_IN=7d

# ───────────────────────────────────────────────────────────────
# 5. CORS И РАЗРЕШЕННЫЕ ИСТОЧНИКИ
# ───────────────────────────────────────────────────────────────

# Разрешенные origins для CORS (через запятую, БЕЗ пробелов)
# Примеры:
#   - Разработка: http://localhost:3000,http://localhost:5173
#   - Production: https://example.com,https://app.example.com
#   - С поддоменами: https://servervpn.store,https://admin.servervpn.store
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://servervpn.store

# ───────────────────────────────────────────────────────────────
# 6. SUPABASE (Облачная база данных)
# ───────────────────────────────────────────────────────────────

# URL Supabase проекта
# Формат: https://[project-id].supabase.co
#VITE_SUPABASE_URL=https://your-project.supabase.co

# Публичный API ключ Supabase (anon key)
#VITE_SUPABASE_ANON_KEY=your_anon_key_here

# ═══════════════════════════════════════════════════════════════
# ИНСТРУКЦИИ ПО УСТАНОВКЕ
# ═══════════════════════════════════════════════════════════════

# 1. Скопируйте этот файл в .env:
#    cp .env.example .env

# 2. Установите зависимости:
#    npm install

# 3. Инициализируйте базу данных:
#    npm run init-db

# 4. Запустите сервер разработки:
#    npm run dev

# 5. Для тестирования API:
#    npm run test-api

# ═══════════════════════════════════════════════════════════════
# ГЕНЕРАЦИЯ СЕКРЕТНЫХ КЛЮЧЕЙ (Linux/Mac)
# ═══════════════════════════════════════════════════════════════

# JWT_SECRET:
#   openssl rand -base64 32

# HMAC_SECRET:
#   openssl rand -base64 32

# На Windows используйте: certutil -encodehexstring -f -

# ═══════════════════════════════════════════════════════════════
# ТРЕБОВАНИЯ ДЛЯ РАЗРАБОТКИ
# ═══════════════════════════════════════════════════════════════

# Node.js 16+ и npm 8+
# PostgreSQL 12+ (установить локально или через Docker)
# 3X-UI сервер (для управления VPN, опционально для разработки)

# ═══════════════════════════════════════════════════════════════
